<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>P了么 - AI 图片生成与分享</title>
    <link rel="stylesheet" href="/common/styles.css" />
    <link rel="stylesheet" href="/common/styles-enhance.css" />
    <link rel="stylesheet" href="/pages/home/home.css" />
  </head>
  <body>
    <!-- 导航栏容器 -->
    <div id="navbar-container"></div>

    <!-- Banner 区域 -->
    <section class="hero">
      <div class="hero-content">
        <h1 class="hero-title">探索 AI 创作的无限可能</h1>
        <p class="hero-subtitle">使用先进的 AI 技术，将您的想象力转化为惊艳的视觉作品</p>
        <div class="hero-actions">
          <a href="/pages/generate/generate.html" class="hero-btn primary">开始创作</a>
          <button id="heroExplore" class="hero-btn secondary">浏览作品</button>
        </div>
      </div>
      <div class="hero-decoration">
        <div class="decoration-circle circle-1"></div>
        <div class="decoration-circle circle-2"></div>
        <div class="decoration-circle circle-3"></div>
      </div>
    </section>

    <!-- 图片画廊 -->
    <main class="gallery-container">
      <div class="gallery-header">
        <h2 class="gallery-title">精彩作品</h2>
        <div class="gallery-filter">
          <button class="filter-btn active" data-filter="all">全部</button>
          <button class="filter-btn" data-filter="featured">精选</button>
        </div>
      </div>

      <!-- 瀑布流图片列表 -->
      <div id="galleryGrid" class="gallery-grid">
        <!-- 动态加载 -->
      </div>

      <div id="galleryLoading" class="gallery-loading" hidden>
        <div class="loading-spinner"></div>
        <span>加载中...</span>
      </div>

      <div id="galleryEmpty" class="gallery-empty" hidden>
        <svg width="120" height="120" viewBox="0 0 120 120" fill="none">
          <circle cx="60" cy="60" r="50" stroke="currentColor" stroke-width="2" opacity="0.2"/>
          <path d="M40 70 L50 60 L65 75 L80 55 L95 70" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" opacity="0.4"/>
          <circle cx="45" cy="40" r="5" fill="currentColor" opacity="0.3"/>
        </svg>
        <p>还没有作品，快去创作第一张吧！</p>
        <a href="/pages/generate/generate.html" class="empty-action-btn">开始创作</a>
      </div>
    </main>

    <!-- 图片详情模态框 -->
    <div id="imageModal" class="modal" hidden>
      <div class="modal-backdrop" data-close-modal="imageModal"></div>
      <div class="image-modal-card">
        <button class="modal-close" data-close-modal="imageModal" aria-label="关闭">×</button>
        <div class="image-modal-content">
          <div class="image-modal-left">
            <img id="modalImage" src="" alt="作品" />
          </div>
          <div class="image-modal-right">
            <div class="image-modal-info">
              <div class="modal-user">
                <div class="user-avatar">
                  <span id="modalUserInitial">U</span>
                </div>
                <div class="user-info">
                  <div id="modalUsername" class="username">用户名</div>
                  <div id="modalTime" class="time">刚刚</div>
                </div>
              </div>

              <div class="modal-prompt">
                <h3>Prompt</h3>
                <p id="modalPrompt">-</p>
              </div>

              <div id="modalDescriptionSection" class="modal-description" hidden>
                <h3>描述</h3>
                <p id="modalDescription"></p>
              </div>

              <div id="modalTagsSection" class="modal-tags" hidden>
                <div id="modalTags"></div>
              </div>
            </div>

            <div class="modal-actions">
              <button id="modalLike" class="modal-action-btn">
                <span class="like-icon">♥</span>
                <span id="modalLikes">0</span>
              </button>
              <a id="modalDownload" href="#" download class="modal-action-btn">下载</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 模态框容器 -->
    <div id="modals-container"></div>

    <!-- 底部悬浮操作栏 -->
    <div class="floating-action-bar" id="floatingActionBar">
      <div class="floating-action-content">
        <div class="floating-action-buttons">
          <a href="/pages/generate/generate.html" class="floating-action-btn primary" id="floatingGenerate">
            <span class="floating-action-btn-icon">🎨</span>
            <span>开始创作</span>
          </a>
        </div>
      </div>
    </div>

    <!-- 公共脚本 -->
    <script src="/common/components.js"></script>
    <script src="/common/auth.js"></script>
    <script>
      // 初始化组件
      Components.init({ activePage: 'home' });
      // 初始化认证
      Auth.init();
    </script>
    <script src="/pages/home/home.js"></script>
  </body>
</html>
